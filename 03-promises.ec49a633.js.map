{"mappings":"YAAA,IAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,uBACnCE,UAAWH,SAASC,cAAc,sBAClCG,OAAQJ,SAASC,cAAc,yBAGjCH,EAAKC,KAAKM,iBAAiB,UAE3B,SAAoBC,GAClBA,EAAMC,iBAIN,IAFA,IAA8BC,EA6BvB,CACLC,MAAOC,OAAOZ,EAAKI,WAAWS,OAC9BC,KAAMF,OAAOZ,EAAKK,UAAUQ,OAC5BP,OAAQM,OAAOZ,EAAKM,OAAOO,QAhCvBE,EAAwBL,EAAxBC,MAAOG,EAAiBJ,EAAjBI,KAAMR,EAAWI,EAAXJ,OAEVU,EAAI,EAAGA,EAAIV,EAAQU,IAC1BC,EAAcD,EAAGD,GACdG,MAAK,SAAAC,G,IAAGC,EAACD,EAADC,EAAGT,EAAKQ,EAALR,MACVU,QAAQC,IAAI,uBAAiCC,OAARH,EAAE,QAAYG,OAANZ,EAAM,M,IAGpDa,OAAM,SAAAL,G,IAAGC,EAACD,EAADC,EAAGT,EAAKQ,EAALR,MACXU,QAAQC,IAAI,sBAA8BC,OAARH,EAAE,QAAYG,OAANZ,EAAM,M,IAEpDI,GAASD,EAGb,SAASG,EAAcQ,EAAUd,GAC/B,OAAO,IAAIe,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACpCC,YAAW,WACLH,EACFF,EAAQ,CAACF,SAAUA,EAAUd,MAAOA,IAEpCiB,EAAO,CAACH,SAAUA,EAAUd,MAAOA,G,GAEpCA,E","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  form: document.querySelector(\".form\"),\n  firstDelay: document.querySelector('input[name=\"delay\"]'),\n  delayStep: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]')\n}\n\nrefs.form.addEventListener('submit', submitForm);\n\nfunction submitForm(event) {\n  event.preventDefault();\n\n  let { delay, step, amount } = readingInputData();\n  \n  for (let i = 0; i < amount; i++) { \n    createPromise(i, delay)\n      .then(({ i, delay }) => {\n        console.log(`✅ Fulfilled promise ${i} in ${delay}ms`);\n      })\n\n      .catch(({ i, delay }) => {\n        console.log(`❌ Rejected promise ${i} in ${delay}ms`);\n      });\n    delay += step;\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({position: position, delay: delay});\n        } else {\n          reject({position: position, delay: delay});\n        }\n      }, delay);\n    })\n  }\n}\n\nfunction readingInputData(){ \n  return {\n    delay: Number(refs.firstDelay.value), \n    step: Number(refs.delayStep.value), \n    amount: Number(refs.amount.value),\n  }\n}"],"names":["$ce04d3a99e08e73b$var$refs","form","document","querySelector","firstDelay","delayStep","amount","addEventListener","event","preventDefault","ref","delay","Number","value","step","delay1","i1","createPromise","then","param","i","console","log","concat","catch","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout"],"version":3,"file":"03-promises.ec49a633.js.map"}